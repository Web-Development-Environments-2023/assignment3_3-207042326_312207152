"use strict";(self["webpackChunkassignment_3_3"]=self["webpackChunkassignment_3_3"]||[]).push([[573],{1573:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container",staticStyle:{"padding-top":"100px"}},[t("h1",{staticClass:"title"},[e._v("Login")]),t("b-form",{on:{submit:function(r){return r.preventDefault(),e.onLogin(r)}}},[t("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[t("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(r){e.$set(e.$v.form.username,"$model",r)},expression:"$v.form.username.$model"}}),t("b-form-invalid-feedback",[e._v(" Username is required ")])],1),t("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[t("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(r){e.$set(e.$v.form.password,"$model",r)},expression:"$v.form.password.$model"}}),t("b-form-invalid-feedback",[e._v(" Password is required ")])],1),t("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),t("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),t("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?t("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},s=[],a=t(124),n=t(8534),i=(t(7658),t(379));const l={name:"LoginPage",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i.C1},password:{required:i.C1}}},methods:{validateState:function(e){var r=this.$v.form[e],t=r.$dirty,o=r.$error;return t?!o:null},Login:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function r(){var t;return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.axios.post(e.$root.store.server_domain+"/Login",{username:e.form.username,password:e.form.password},{withCredentials:!0});case 3:t=r.sent,console.log(t),console.log(e.$root.store.login),e.$root.store.login(e.form.username),e.$router.push("/"),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0.response);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},onLogin:function(){console.log("login method called"),this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||(console.log("login method go"),this.Login())}}},m=l;var u=t(1001),d=(0,u.Z)(m,o,s,!1,null,"38af0f5f",null);const c=d.exports}}]);
//# sourceMappingURL=573.718a737f.js.map